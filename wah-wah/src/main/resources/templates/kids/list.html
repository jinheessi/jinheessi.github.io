<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<link href="/css/bootstrap.min.css" rel="stylesheet">
		<script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?clientId=YOUR_CLIENT_ID"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
		<script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
		<script>
		
		
		</script>
		<title>Insert title here</title>
		<style>
			.map_wrap, .map_wrap * {margin:0;padding:0;font-family:'Malgun Gothic',dotum,'돋움',sans-serif;font-size:12px;}
			.map_wrap a, .map_wrap a:hover, .map_wrap a:active{color:#000;text-decoration: none;}
			.map_wrap {position:relative;width:100%;height:500px;display:block;}
			#menu_wrap {width:100%;margin:10px 0 30px 10px;padding:5px;overflow-y:auto;background:rgba(255, 255, 255, 0.7);z-index: 1;font-size:12px;border-radius: 10px;}
			.bg_white {background:#fff;}
			#menu_wrap hr {display: block; height: 1px;border: 0; border-top: 2px solid #5F5F5F;margin:3px 0;}
			#menu_wrap .option{text-align: center;}
			#menu_wrap .option p {margin:10px 0;}  
			#menu_wrap .option button {margin-left:5px;}
			.map_wrap2, .map_wrap2 * {margin:0;padding:0;font-family:'Malgun Gothic',dotum,'돋움',sans-serif;font-size:12px;}
			.map_wrap2 a, .map_wrap2 a:hover, .map_wrap2 a:active{color:#000;text-decoration: none;}
			.map_wrap2 {position:relative;width:100%;height:500px;display:block;}
			#menu_wrap2 {width:100%;margin:10px 0 30px 10px;padding:5px;overflow-y:auto;background:rgba(255, 255, 255, 0.7);z-index: 1;font-size:12px;border-radius: 10px;}
			.bg_white {background:#fff;}
			#menu_wrap2 hr {display: block; height: 1px;border: 0; border-top: 2px solid #5F5F5F;margin:3px 0;}
			#menu_wrap2 .option{text-align: center;}
			#menu_wrap2 .option p {margin:10px 0;}  
			#menu_wrap2 .option button {margin-left:5px;}
			
			#placesList li {list-style: none;}
			#placesList .item {position:relative;border-bottom:1px solid #888;overflow: hidden;cursor: pointer;min-height: 65px;}
			#placesList .item span {display: block;margin-top:4px;}
			#placesList .item h5, #placesList .item .info {text-overflow: ellipsis;overflow: hidden;white-space: nowrap;}
			#placesList .item .info{padding:10px 0 10px 55px;}
			#placesList .info .gray {color:#8a8a8a;}
			#placesList .info .jibun {padding-left:26px;background:url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_jibun.png) no-repeat;}
			#placesList .info .tel {color:#009900;}
			#placesList .item .markerbg {float:left;position:absolute;width:36px; height:37px;margin:10px 0 0 10px;background:url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png) no-repeat;}
			#placesList .item .marker_1 {background-position: 0 -10px;}
			#placesList .item .marker_2 {background-position: 0 -56px;}
			#placesList .item .marker_3 {background-position: 0 -102px}
			#placesList .item .marker_4 {background-position: 0 -148px;}
			#placesList .item .marker_5 {background-position: 0 -194px;}
			#placesList .item .marker_6 {background-position: 0 -240px;}
			#placesList .item .marker_7 {background-position: 0 -286px;}
			#placesList .item .marker_8 {background-position: 0 -332px;}
			#placesList .item .marker_9 {background-position: 0 -378px;}
			#placesList .item .marker_10 {background-position: 0 -423px;}
			#placesList .item .marker_11 {background-position: 0 -470px;}
			#placesList .item .marker_12 {background-position: 0 -516px;}
			#placesList .item .marker_13 {background-position: 0 -562px;}
			#placesList .item .marker_14 {background-position: 0 -608px;}
			#placesList .item .marker_15 {background-position: 0 -654px;}
			#pagination {margin:10px auto;text-align: center;}
			#pagination a {display:inline-block;margin-right:10px;}
			#pagination .on {font-weight: bold; cursor: default;color:#777;}
		    .title {font-weight:bold;display:block;}
		    .hAddr {position:absolute;left:10px;top:10px;border-radius: 2px;background:#fff;background:rgba(255,255,255,0.8);z-index:1;padding:5px;}
		    #centerAddr {display:block;margin-top:2px;font-weight: normal;}
		    .bAddr {padding:5px;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;}
		    .info {position:relative;top:5px;left:5px;border-radius:6px;border: 1px solid #ccc;border-bottom:2px solid #ddd;font-size:12px;padding:5px;background:#fff;list-style:none;margin:0;} 
			.info:nth-of-type(n) {border:0; box-shadow:0px 1px 2px #888;}    
			.info .label {display:inline-block;width:50px;}
			.number {font-weight:bold;color:#00a0e9;}
		</style>
	</head>
	<body>
		<br><br><br>
		
		<header>
			<div class="container text-center">
			  <div class="row">
			    <ul class="nav justify-content-center nav-tabs" id="myTab" role="tablist">
				  <li class="nav-item" role="presentation">
				    <button class="nav-link active border border-0" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true"><h3>소아과</h3></button>
				  </li>
				  <li class="nav-item" role="presentation">
				    <button class="nav-link border border-top-0 border-end-0" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false" onclick="relayout()"><h3>응급실</h3></button>
				  </li>
				</ul>
			  </div>
				<div class="tab-content" id="myTabContent">
				  <div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
				  <br><br>
			  	    <div class="row">
			    		<div class="col-md-12">
			    			<div class="input-group mb-12">
						        <input type="text" class="form-control" placeholder="병원을 검색하세요" aria-label="Recipient's username" aria-describedby="button-addon2" value="" id="keyword" size="15"> 
						        <button type="button" class="btn btn-outline-dark" onclick="searchPlaces();">검색</button>
						        
						    </div>
						</div>
						
			  	    </div>
			  	    <br>
			  	    <h4 style="text-align:left;"><b>내 주변 소아과</b></h4>
			  	    <hr>
			  	   <form id="form1" name="form1" method="post" onsubmit="geocoder.addressSearch(this.value)">
		    			<div class="row">
								<div class="col-sm-4">
									<select id='city1' name='city1' onchange="change(this.selectedIndex);" class="form-select">
			                      	  <option value='전체'>시/도</option>
				                      <option value='서울특별시'>서울특별시</option>
				                      <option value='부산광역시'>부산광역시</option>
				                      <option value='대구광역시'>대구광역시</option>
				                      <option value='인천광역시'>인천광역시</option>
				                      <option value='광주광역시'>광주광역시</option>
				                      <option value='대전광역시'>대전광역시</option>
				                      <option value='울산광역시'>울산광역시</option>
				                      <option value='경기도'>경기도</option>
				                      <option value='강원도'>강원도</option>
				                      <option value='충청북도'>충청북도</option>
				                      <option value='충청남도'>충청남도</option>
				                      <option value='전라북도'>전라북도</option>
				                      <option value='전라남도'>전라남도</option>
				                      <option value='경상북도'>경상북도</option>
				                      <option value='경상남도'>경상남도</option>
				                      <option value='제주도'>제주도</option>
			                   		</select>
								</div>
		    			
			                    <div class="col-sm-4">
									 <select id='county1' name='county1' class="form-select">
				                   		 <option value=''>구/군</option>
				                	 </select>
							    </div>
					   			<div class="col-sm-2">
									 <button type="submit" class="btn btn-outline-dark">검색</button>
							    </div>
						</div>
		    		</form>
								
		    		
	 
		               <br>
			    		<div class="row">
			    			<div class="map_wrap">
						    	<div id="map" style="width:100%;height:100%;position:relative;overflow:hidden;"></div>
						    	<div class="hAddr">
							        <span class="title">내 위치</span>
							        <span id="centerAddr"></span>
						    	</div>
							</div>
			  	    	</div>
				  	    <div class="row">
				    		<div id="menu_wrap" class="bg_white">
							        <div class="option">
							        </div>
							        <hr>
							        <ul id="placesList"></ul>
							        <div id="pagination"></div>
							 </div>
				  	    </div>
			         </div>
			  	   
			  <br>
				  <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
					<br>
			  	    <div class="row">
			    		<div class="col-md-12">
			    			<div class="input-group mb-12">
						        <input type="text" class="form-control" placeholder="병원을 검색하세요" aria-label="Recipient's username" aria-describedby="button-addon2" value="" id="keyword" size="15"> 
						        <button type="button" class="btn btn-outline-dark" onclick="searchPlaces();">검색</button>
						        
						    </div>
						</div>
						
			  	    </div>
			  	    <br>
			  	    <h4 style="text-align:left;"><b>내 주변 응급실</b></h4>
			  	    <hr>
			  	    <form id="form2" name="form" method="post" onsubmit="geocoder.addressSearch(this.value)" enctype="application/json;charset=utf-8">
		    			<div class="row">
								<div class="col-sm-4">
									<select id='city2' name='city2' onchange="change(this.selectedIndex);" class="form-select">
			                      	  <option value='전체'>시/도</option>
				                      <option value='서울특별시'>서울특별시</option>
				                      <option value='부산광역시'>부산광역시</option>
				                      <option value='대구광역시'>대구광역시</option>
				                      <option value='인천광역시'>인천광역시</option>
				                      <option value='광주광역시'>광주광역시</option>
				                      <option value='대전광역시'>대전광역시</option>
				                      <option value='울산광역시'>울산광역시</option>
				                      <option value='경기도'>경기도</option>
				                      <option value='강원도'>강원도</option>
				                      <option value='충청북도'>충청북도</option>
				                      <option value='충청남도'>충청남도</option>
				                      <option value='전라북도'>전라북도</option>
				                      <option value='전라남도'>전라남도</option>
				                      <option value='경상북도'>경상북도</option>
				                      <option value='경상남도'>경상남도</option>
				                      <option value='제주도'>제주도</option>
			                   		</select>
								</div>
		    			
			                    <div class="col-sm-4">
									 <select id='county2' name='county2' class="form-select">
				                   		 <option value=''>구/군</option>
				                	 </select>
							    </div>
					   			<div class="col-sm-2">
									 <button type="submit" class="btn btn-outline-dark">검색</button>
							    </div>
						</div>
		    		</form>
		               <br>
			    		<div class="row">
			    			<div class="map_wrap">
						    	<div id="map2" style="width:100%;height:100%;position:relative;overflow:auto;"></div>
						    	<div class="hAddr">
							        <span class="title">내 위치</span>
							        <span id="centerAddr"></span>
						    	</div>
							</div>                        
			  	    	</div>
				  	    <div class="row">
				    		<div id="menu_wrap2" class="bg_white">
							        <div class="option">
							        </div>
							        <hr>
							        <ul id="placesList2"></ul>
							        <div id="pagination2"></div>
							 </div>
				  	    </div> 	
				  </div>
				</div>	    
			</div>
			  <br>
		</header>
		
		<nav class="navbar bg-body-tertiary fixed-top" style="margin-left:90%; margin-top:4%;">
		  <div class="container-fluid">
		    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
		      <span class="navbar-toggler-icon"></span>
		    </button>
		    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
		      <div class="offcanvas-header">
		        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">${id}님 환영합니다</h5>
		        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		      </div>
		      <div class="offcanvas-body">
		        <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
		          <li class="nav-item">
		            <a class="nav-link active" aria-current="page" href="modifyInfo">내 정보 수정</a>
		          </li>
		          <li class="nav-item">
		            <a class="nav-link" href="#">예약 관리</a>
		          </li>
		        </ul>
		      </div>
		    </div>
		  </div>
		</nav>
		<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=67f892ae27b42594c7defd720d2dcdc9&libraries=services"></script>
		<script>
			// 마커를 담을 배열입니다
			
	        var arr = [];
			var markers = [];
			var value;
			var lat;
			var lon;
			var lat2;
			var lon2;
			var locPosition;
			var locPosition2;
			var markerloc = [];
			var arr2 = [];
			var countInDiameter = [];
			
			/////////////////지도의 중심을 현재 위치로 변경///////////////////////
			var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
			    mapOption = { 
			        center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
			        level: 5 // 지도의 확대 레벨 
			    }; 
			 
			var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다
			 
			// HTML5의 geolocation으로 사용할 수 있는지 확인합니다 
			if (navigator.geolocation) {
			    
			    // GeoLocation을 이용해서 접속 위치를 얻어옵니다
			    navigator.geolocation.getCurrentPosition(function(position) {
			        
			        lat = position.coords.latitude, // 위도
			        lon = position.coords.longitude; // 경도
			        
			        locPosition = new kakao.maps.LatLng(lat, lon); // geolocation으로 얻어온 좌표
			       	
			        map.setCenter(locPosition);   
			            
			      });
			    
			} else { // HTML5의 GeoLocation을 사용할 수 없을때 
			    
			    var locPosition = new kakao.maps.LatLng(37.566826, 126.9786567)
			    alert('현재 위치를 찾을 수 없습니다!');
			}
			
			
			var mapContainer2 = document.getElementById('map2'), // 지도를 표시할 div 
		    mapOption2 = {
		        center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
		        level: 6, // 지도의 확대 레벨
		    };
			// 지도를 생성합니다    
			var map2 = new kakao.maps.Map(mapContainer2, mapOption2);
			
			
	
			
			document.querySelector("#form1").onsubmit = function (){
				var city1 = document.querySelector("#city1").value;
				var county1 = document.querySelector("#county1").value;
				var local = city1 + county1;
				
				geocoder.addressSearch(local, function(result, status) {
					
				    // 정상적으로 검색이 완료됐으면 
				     if (status === kakao.maps.services.Status.OK) {
						var lati = result[0].y;
						var longi = result[0].x;
				        var centerLocation = new kakao.maps.LatLng(lati, longi);
				        // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다
				        map.setCenter(centerLocation);
				    }
				     
				});
				
				var formData = new FormData();
				formData.append("city1", city1);
				formData.append("county1", county1);
				
				fetch('/kids/list', {
					method:'post',
					headers:{
						'Accept': 'application/json'
					},
					body: formData
				}).then((response) => response.json())
				  .then((data) => {
					 displayPlaces(data);
					 var pagination  = data.length / 5;
					 console.log(pagination);
					 // 페이지 번호를 표출합니다
				     displayPagination(pagination);
				}).catch((err) => {
					  console.log(err);
				  })
				
				
				return false;
				
			}
			
			
			
			const triggerTabList = document.querySelectorAll('#myTab button')
			triggerTabList.forEach(triggerEl => {
			  const tabTrigger = new bootstrap.Tab(triggerEl)

			  triggerEl.addEventListener('click', event => {
			    event.preventDefault()
			    tabTrigger.show()
			  })
			})
			
			function relayout() {    
			    
			    // 지도를 표시하는 div 크기를 변경한 이후 지도가 정상적으로 표출되지 않을 수도 있습니다
			    // 크기를 변경한 이후에는 반드시  map.relayout 함수를 호출해야 합니다 
			    // window의 resize 이벤트에 의한 크기변경은 map.relayout 함수가 자동으로 호출됩니다
			    map2.relayout();
			}
			
			
			// 주소-좌표 변환 객체를 생성합니다
			var geocoder = new kakao.maps.services.Geocoder();
			
			var marker = new kakao.maps.Marker(), // 클릭한 위치를 표시할 마커입니다
			infowindow = new kakao.maps.InfoWindow({zindex:1}); // 클릭한 위치에 대한 주소를 표시할 인포윈도우입니다

			// 현재 지도 중심좌표로 주소를 검색해서 지도 좌측 상단에 표시합니다
			searchAddrFromCoords(map.getCenter(), displayCenterInfo);
			searchAddrFromCoords(map2.getCenter(), displayCenterInfo);
			
			
			// 지도를 클릭했을 때 클릭 위치 좌표에 대한 주소정보를 표시하도록 이벤트를 등록합니다
			kakao.maps.event.addListener(map, 'click', function(mouseEvent) {
			    searchDetailAddrFromCoords(mouseEvent.latLng, function(result, status) {
			        if (status === kakao.maps.services.Status.OK) {
			            var detailAddr = !!result[0].road_address ? '<div>도로명주소 : ' + result[0].road_address.address_name + '</div>' : '';
			            detailAddr += '<div>지번 주소 : ' + result[0].address.address_name + '</div>';
			            
			            var content = '<div class="bAddr">' +
			                            '<span class="title">법정동 주소정보</span>' + 
			                            detailAddr + 
			                        '</div>';

			            // 마커를 클릭한 위치에 표시합니다 
			            marker.setPosition(mouseEvent.latLng);
			            marker.setMap(map);

			            // 인포윈도우에 클릭한 위치에 대한 법정동 상세 주소정보를 표시합니다
			            infowindow.setContent(content);
			            infowindow.open(map, marker);
			        }   
			    });
			});
			
			kakao.maps.event.addListener(map2, 'click', function(mouseEvent) {
			    searchDetailAddrFromCoords(mouseEvent.latLng, function(result, status) {
			        if (status === kakao.maps.services.Status.OK) {
			            var detailAddr = !!result[0].road_address ? '<div>도로명주소 : ' + result[0].road_address.address_name + '</div>' : '';
			            detailAddr += '<div>지번 주소 : ' + result[0].address.address_name + '</div>';
			            
			            var content = '<div class="bAddr">' +
			                            '<span class="title">법정동 주소정보</span>' + 
			                            detailAddr + 
			                        '</div>';

			            // 마커를 클릭한 위치에 표시합니다 
			            marker.setPosition(mouseEvent.latLng);
			            marker.setMap(map2);

			            // 인포윈도우에 클릭한 위치에 대한 법정동 상세 주소정보를 표시합니다
			            infowindow.setContent(content);
			            infowindow.open(map2, marker);
			        }   
			    });
			});

			// 중심 좌표나 확대 수준이 변경됐을 때 지도 중심 좌표에 대한 주소 정보를 표시하도록 이벤트를 등록합니다
			kakao.maps.event.addListener(map, 'idle', function() {
			    searchAddrFromCoords(map.getCenter(), displayCenterInfo);
			});
			
			kakao.maps.event.addListener(map2, 'idle', function() {
			    searchAddrFromCoords(map2.getCenter(), displayCenterInfo);
			});

			function searchAddrFromCoords(coords, callback) {
			    // 좌표로 행정동 주소 정보를 요청합니다
			    geocoder.coord2RegionCode(coords.getLng(), coords.getLat(), callback);         
			}

			function searchDetailAddrFromCoords(coords, callback) {
			    // 좌표로 법정동 상세 주소 정보를 요청합니다
			    geocoder.coord2Address(coords.getLng(), coords.getLat(), callback);
			}

			// 지도 좌측상단에 지도 중심좌표에 대한 주소정보를 표출하는 함수입니다
			function displayCenterInfo(result, status) {
			    if (status === kakao.maps.services.Status.OK) {
			        var infoDiv = document.getElementById('centerAddr');

			        for(var i = 0; i < result.length; i++) {
			            // 행정동의 region_type 값은 'H' 이므로
			            if (result[i].region_type === 'H') {
			                infoDiv.innerHTML = result[i].address_name;
			                break;
			            }
			        }
			    }    
			}
			
			// 키워드로 장소를 검색합니다
			searchPlaces();
				
			
			// 키워드 검색을 요청하는 함수입니다
			function searchPlaces() {
				// 장소 검색 객체를 생성합니다
				var ps = new kakao.maps.services.Places();  
				// 검색 결과 목록이나 마커를 클릭했을 때 장소명을 표출할 인포윈도우를 생성합니다
				var infowindow = new kakao.maps.InfoWindow({zIndex:1});
			    var keyword = document.getElementById('keyword').value;
			
			    if (!keyword.replace(/^\s+|\s+$/g, '')) {
			        return false;
			    }
			
			    // 장소검색 객체를 통해 키워드로 장소검색을 요청합니다
			    ps.keywordSearch( keyword, placesSearchCB); 
			}
			
			// 장소검색이 완료됐을 때 호출되는 콜백함수 입니다
			function placesSearchCB(data, status, pagination) {
			    if (status === kakao.maps.services.Status.OK) {
					
			        // 정상적으로 검색이 완료됐으면
			        // 검색 목록과 마커를 표출합니다
			        displayPlaces(data);
			
			        // 페이지 번호를 표출합니다
			        displayPagination(pagination);
			
			    } else if (status === kakao.maps.services.Status.ZERO_RESULT) {
			
			        alert('검색 결과가 존재하지 않습니다.');
			        return;
			
			    } else if (status === kakao.maps.services.Status.ERROR) {
			
			        alert('검색 결과 중 오류가 발생했습니다.');
			        return;
			
			    }
			}
			
			// 검색 결과 목록과 마커를 표출하는 함수입니다
			function displayPlaces(data) {
			
			    var listEl = document.getElementById('placesList'), 
			    menuEl = document.getElementById('menu_wrap'),
			    fragment = document.createDocumentFragment(), 
			    bounds = new kakao.maps.LatLngBounds(), 
			    listStr = '';
			    
			    // 검색 결과 목록에 추가된 항목들을 제거합니다
			    removeAllChildNods(listEl);
			
			    // 지도에 표시되고 있는 마커를 제거합니다
			    removeMarker();
			    
			    for ( var i=0; i<data.length; i++ ) {
					var dLat = (Math.PI / 180) * (data[i].wgs84Lat - map.getCenter().getLat());
				    var dLon = (Math.PI / 180) * (data[i].wgs84Lon - map.getCenter().getLng());
				
				    var a = Math.sin(dLat/2)* Math.sin(dLat/2)+ Math.cos((Math.PI/180)*(map.getCenter().getLat()))* Math.cos((Math.PI/180)*(data[i].wgs84Lat))* Math.sin(dLon/2)* Math.sin(dLon/2);
				    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
				    var d = 6400 * c * 1000;
				    d = d / 1000;
				    d = d.toFixed(2);
		            arr.push([i,data[i], d]);
		            arr.sort((a,b) => a[2] - b[2]);
			    }
			    for (var i=0; i < arr.length; i++){
			        // 마커를 생성하고 지도에 표시합니다
			        var placePosition = new kakao.maps.LatLng(arr[i][1].wgs84Lat, arr[i][1].wgs84Lon),
			            marker = addMarker(placePosition, i), 
			            itemEl = getListItem(arr[i][0], arr[i][1], arr[i][2]); // 검색 결과 항목 Element를 생성합니다
						console.log(arr[i][0], arr[i][1], arr[i][2]);
			        // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해
			        // LatLngBounds 객체에 좌표를 추가합니다
			        bounds.extend(placePosition);
			        // 마커와 검색결과 항목에 mouseover 했을때
			        // 해당 장소에 인포윈도우에 장소명을 표시합니다
			        // mouseout 했을 때는 인포윈도우를 닫습니다
			        (function(marker, title) {
			            kakao.maps.event.addListener(marker, 'mouseover', function() {
			                displayInfowindow(marker, title);
			            });
			
			            kakao.maps.event.addListener(marker, 'mouseout', function() {
			                infowindow.close();
			            });
			
			            itemEl.onmouseover =  function () {
			                displayInfowindow(marker, title);
			            };
			
			            itemEl.onmouseout =  function () {
			                infowindow.close();
			            };
			        })(marker, arr[i][1].dutyName);
					
			        fragment.appendChild(itemEl);
			    }
			
			    // 검색결과 항목들을 검색결과 목록 Element에 추가합니다
			    listEl.appendChild(fragment);
			    menuEl.scrollTop = 0;
			
			    // 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다
			    map.setBounds(bounds);
			}
			
			
			// 검색결과 항목을 Element로 반환하는 함수입니다
			function getListItem(index, hospital, distance) {
			    var el = document.createElement('li'),
			    itemStr = '<form><span class="markerbg marker_' + (index+1) + '"></span>' +
			                '<div class="info">' +
			                '   <h5>' + hospital.dutyName + '</h5>';
			
			    
		        itemStr += '    <span>' + hospital.dutyAddr + '</span>';
			     
			    itemStr += '  <span class="tel">' + hospital.dutyTel1  + '</span>' + '<span>'+ distance + 'km</span>' +
			                '</div></form>';           
			
			    el.innerHTML = itemStr;
			    el.className = 'item';
			    
			    return el;
				
			}

            
			
			// 마커를 생성하고 지도 위에 마커를 표시하는 함수입니다
			function addMarker(position, idx, title) {
			    var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png', // 마커 이미지 url, 스프라이트 이미지를 씁니다
			        imageSize = new kakao.maps.Size(36, 37),  // 마커 이미지의 크기
			        imgOptions =  {
			            spriteSize : new kakao.maps.Size(36, 691), // 스프라이트 이미지의 크기
			            spriteOrigin : new kakao.maps.Point(0, (idx*46)+10), // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표
			            offset: new kakao.maps.Point(13, 37) // 마커 좌표에 일치시킬 이미지 내에서의 좌표
			        },
			        markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),
			            marker = new kakao.maps.Marker({
			            position: position, // 마커의 위치
			            image: markerImage 
			        });
			
			    marker.setMap(map); // 지도 위에 마커를 표출합니다
			    markers.push(marker);  // 배열에 생성된 마커를 추가합니다
				
			    markerloc.push(marker.getPosition());
			   
			    
			    return marker;
			}
			
			// 지도 위에 표시되고 있는 마커를 모두 제거합니다
			function removeMarker() {
			    for ( var i = 0; i < markers.length; i++ ) {
			        markers[i].setMap(null);
			    }   
			    markers = [];
			}
			
			// 검색결과 목록 하단에 페이지번호를 표시는 함수입니다
			function displayPagination(pagination) {
			    var paginationEl = document.getElementById('pagination'),
			    	paginationEl2 = document.getElementById('pagination2'),
			        fragment = document.createDocumentFragment(),
			        i; 
			
			    // 기존에 추가된 페이지번호를 삭제합니다
			    while (paginationEl.hasChildNodes() || paginationEl2.hasChildNodes()) {
			        paginationEl.removeChild (paginationEl.lastChild);
			        paginationEl2.removeChild(paginationEl2.lastChild);
			    }
			
			    for (i=1; i<=pagination; i++) {
			        var el = document.createElement('a');
			        el.href = "#";
			        el.innerHTML = i;
			
			        if (i===pagination) {
			            el.className = 'on';
			        } else {
			            el.onclick = (function(i) {
			                return function() {
			                    pagination.gotoPage(i);
			                }
			            })(i);
			        }
			
			        fragment.appendChild(el);
			    }
			    paginationEl.appendChild(fragment);
			    paginationEl2.appendChild(fragment);
			}
			
			// 검색결과 목록 또는 마커를 클릭했을 때 호출되는 함수입니다
			// 인포윈도우에 장소명을 표시합니다
			function displayInfowindow(marker, title) {
			    var content = '<div style="padding:5px;z-index:1;">' + title + '</div>';
			
			    infowindow.setContent(content);
			    infowindow.open(map, marker);
			}
			
			 // 검색결과 목록의 자식 Element를 제거하는 함수입니다
			function removeAllChildNods(el) {   
			    while (el.hasChildNodes()) {
			        el.removeChild (el.lastChild);
			    }
			}

			
			function viewHospital (index, keyword, road, old_addr, phone, x, y){
				document.location.href="/kids/viewHospital?index="+index+"&keyword="+keyword+"&road="+road+"&old_addr="+old_addr+"&phone="+phone+ "&x="+x +"&y="+y;
			}
			
			var drawingFlag = false; // 원이 그려지고 있는 상태를 가지고 있을 변수입니다
			var centerPosition; // 원의 중심좌표 입니다
			var drawingCircle; // 그려지고 있는 원을 표시할 원 객체입니다
			var drawingLine; // 그려지고 있는 원의 반지름을 표시할 선 객체입니다
			var drawingOverlay; // 그려지고 있는 원의 반경을 표시할 커스텀오버레이 입니다
			var drawingDot; // 그려지고 있는 원의 중심점을 표시할 커스텀오버레이 입니다

			var circles = []; // 클릭으로 그려진 원과 반경 정보를 표시하는 선과 커스텀오버레이를 가지고 있을 배열입니다

			// 지도에 클릭 이벤트를 등록합니다
			kakao.maps.event.addListener(map, 'click', function(mouseEvent) {
			        
			    // 클릭 이벤트가 발생했을 때 원을 그리고 있는 상태가 아니면 중심좌표를 클릭한 지점으로 설정합니다
			    if (!drawingFlag) {    
			        
			        // 상태를 그리고있는 상태로 변경합니다
			        drawingFlag = true; 
			       
			        // 원이 그려질 중심좌표를 클릭한 위치로 설정합니다 
			        centerPosition = new kakao.maps.LatLng(lat, lon);
			        // 그려지고 있는 원의 반경을 표시할 선 객체를 생성합니다
			        if (!drawingLine) {
			            drawingLine = new kakao.maps.Polyline({
			                strokeWeight: 3, // 선의 두께입니다
			                strokeColor: '#00a0e9', // 선의 색깔입니다
			                strokeOpacity: 1, // 선의 불투명도입니다 0에서 1 사이값이며 0에 가까울수록 투명합니다
			                strokeStyle: 'solid' // 선의 스타일입니다
			            });    
			        }
			        
			        // 그려지고 있는 원을 표시할 원 객체를 생성합니다
			        if (!drawingCircle) {                    
			            drawingCircle = new kakao.maps.Circle({ 
			                strokeWeight: 1, // 선의 두께입니다
			                strokeColor: '#00a0e9', // 선의 색깔입니다
			                strokeOpacity: 0.1, // 선의 불투명도입니다 0에서 1 사이값이며 0에 가까울수록 투명합니다
			                strokeStyle: 'solid', // 선의 스타일입니다
			                fillColor: '#00a0e9', // 채우기 색깔입니다
			                fillOpacity: 0.2 // 채우기 불투명도입니다 
			            });     
			        }
			        
			        // 그려지고 있는 원의 반경 정보를 표시할 커스텀오버레이를 생성합니다
			        if (!drawingOverlay) {
			            drawingOverlay = new kakao.maps.CustomOverlay({
			                xAnchor: 0,
			                yAnchor: 0,
			                zIndex: 1
			            });              
			        }
			    }
			    });

			// 지도에 마우스무브 이벤트를 등록합니다
			// 원을 그리고있는 상태에서 마우스무브 이벤트가 발생하면 그려질 원의 위치와 반경정보를 동적으로 보여주도록 합니다
			kakao.maps.event.addListener(map, 'mousemove', function (mouseEvent) {
			        
			    // 마우스무브 이벤트가 발생했을 때 원을 그리고있는 상태이면
			    if (drawingFlag) {

			        // 마우스 커서의 현재 위치를 얻어옵니다 
			        var mousePosition = mouseEvent.latLng; 
			        
			        // 그려지고 있는 선을 표시할 좌표 배열입니다. 클릭한 중심좌표와 마우스커서의 위치로 설정합니다
			        var linePath = [centerPosition, mousePosition];     
			        
			        // 그려지고 있는 선을 표시할 선 객체에 좌표 배열을 설정합니다
			        drawingLine.setPath(linePath);
			        
			        // 원의 반지름을 선 객체를 이용해서 얻어옵니다 
			        var length = drawingLine.getLength();
			        
			        if(length > 0) {
			            
			            // 그려지고 있는 원의 중심좌표와 반지름입니다
			            var circleOptions = { 
			                center : centerPosition, 
			            radius: length,                 
			            };
			            
			            // 그려지고 있는 원의 옵션을 설정합니다
			            drawingCircle.setOptions(circleOptions); 
			                
			            // 반경 정보를 표시할 커스텀오버레이의 내용입니다
			            var radius = Math.round(drawingCircle.getRadius()),   
			            content = '<div class="info">반경 <span class="number">' + radius + '</span>m</div>';
			            
			            // 반경 정보를 표시할 커스텀 오버레이의 좌표를 마우스커서 위치로 설정합니다
			            drawingOverlay.setPosition(mousePosition);
			            
			            // 반경 정보를 표시할 커스텀 오버레이의 표시할 내용을 설정합니다
			            drawingOverlay.setContent(content);
			            
			            // 그려지고 있는 원을 지도에 표시합니다
			            drawingCircle.setMap(map); 
			            
			            // 그려지고 있는 선을 지도에 표시합니다
			            drawingLine.setMap(map);  
			            
			            // 그려지고 있는 원의 반경정보 커스텀 오버레이를 지도에 표시합니다
			            drawingOverlay.setMap(map);
			            
			        } else { 
			            
			            drawingCircle.setMap(null);
			            drawingLine.setMap(null);    
			            drawingOverlay.setMap(null);
			            
			        }
			    }     
			});     

			// 지도에 마우스 오른쪽 클릭이벤트를 등록합니다
			// 원을 그리고있는 상태에서 마우스 오른쪽 클릭 이벤트가 발생하면
			// 마우스 오른쪽 클릭한 위치를 기준으로 원과 원의 반경정보를 표시하는 선과 커스텀 오버레이를 표시하고 그리기를 종료합니다
			kakao.maps.event.addListener(map, 'rightclick', function (mouseEvent) {

			    if (drawingFlag) {

			        // 마우스로 오른쪽 클릭한 위치입니다 
			        var rClickPosition = mouseEvent.latLng; 

			        // 원의 반경을 표시할 선 객체를 생성합니다
			        var polyline = new kakao.maps.Polyline({
			            path: [centerPosition, rClickPosition], // 선을 구성하는 좌표 배열입니다. 원의 중심좌표와 클릭한 위치로 설정합니다
			            strokeWeight: 3, // 선의 두께 입니다
			            strokeColor: '#00a0e9', // 선의 색깔입니다
			            strokeOpacity: 1, // 선의 불투명도입니다 0에서 1 사이값이며 0에 가까울수록 투명합니다
			            strokeStyle: 'solid' // 선의 스타일입니다
			        });
			        
			        // 원 객체를 생성합니다
			        var circle = new kakao.maps.Circle({ 
			            center : centerPosition, // 원의 중심좌표입니다
			            radius: polyline.getLength(), // 원의 반지름입니다 m 단위 이며 선 객체를 이용해서 얻어옵니다
			            strokeWeight: 1, // 선의 두께입니다
			            strokeColor: '#00a0e9', // 선의 색깔입니다
			            strokeOpacity: 0.1, // 선의 불투명도입니다 0에서 1 사이값이며 0에 가까울수록 투명합니다
			            strokeStyle: 'solid', // 선의 스타일입니다
			            fillColor: '#00a0e9', // 채우기 색깔입니다
			            fillOpacity: 0.2  // 채우기 불투명도입니다 
			        });
			        
			        var radius = Math.round(circle.getRadius()), // 원의 반경 정보를 얻어옵니다
			            content = getTimeHTML(radius,markerloc); // 커스텀 오버레이에 표시할 반경 정보입니다

			        // 반경정보를 표시할 커스텀 오버레이를 생성합니다
			        var radiusOverlay = new kakao.maps.CustomOverlay({
			            content: content, // 표시할 내용입니다
			            position: rClickPosition, // 표시할 위치입니다. 클릭한 위치로 설정합니다
			            xAnchor: 0,
			            yAnchor: 0,
			            zIndex: 1 
			        });  

			        // 원을 지도에 표시합니다
			        circle.setMap(map); 
			        
			        // 선을 지도에 표시합니다
			        polyline.setMap(map);
			        
			        // 반경 정보 커스텀 오버레이를 지도에 표시합니다
			        radiusOverlay.setMap(map);
			        
			        // 배열에 담을 객체입니다. 원, 선, 커스텀오버레이 객체를 가지고 있습니다
			        var radiusObj = {
			            'polyline' : polyline,
			            'circle' : circle,
			            'overlay' : radiusOverlay
			        };
			        
			        // 배열에 추가합니다
			        // 이 배열을 이용해서 "모두 지우기" 버튼을 클릭했을 때 지도에 그려진 원, 선, 커스텀오버레이들을 지웁니다
			        circles.push(radiusObj);   
			    
			        // 그리기 상태를 그리고 있지 않는 상태로 바꿉니다
			        drawingFlag = false;
			        
			        // 중심 좌표를 초기화 합니다  
			        centerPosition = null;
			        
			        // 그려지고 있는 원, 선, 커스텀오버레이를 지도에서 제거합니다
			        drawingCircle.setMap(null);
			        drawingLine.setMap(null);   
			        drawingOverlay.setMap(null);
			    }
			});
			// 지도에 클릭 이벤트를 등록합니다
			kakao.maps.event.addListener(map2, 'click', function(mouseEvent) {
			        
			    // 클릭 이벤트가 발생했을 때 원을 그리고 있는 상태가 아니면 중심좌표를 클릭한 지점으로 설정합니다
			    if (!drawingFlag) {    
			        
			        // 상태를 그리고있는 상태로 변경합니다
			        drawingFlag = true; 
			        
			        // 원이 그려질 중심좌표를 클릭한 위치로 설정합니다 
			        centerPosition = new kakao.maps.LatLng(lat2, lon2);

			        // 그려지고 있는 원의 반경을 표시할 선 객체를 생성합니다
			        if (!drawingLine) {
			            drawingLine = new kakao.maps.Polyline({
			                strokeWeight: 3, // 선의 두께입니다
			                strokeColor: '#00a0e9', // 선의 색깔입니다
			                strokeOpacity: 1, // 선의 불투명도입니다 0에서 1 사이값이며 0에 가까울수록 투명합니다
			                strokeStyle: 'solid' // 선의 스타일입니다
			            });    
			        }
			        
			        // 그려지고 있는 원을 표시할 원 객체를 생성합니다
			        if (!drawingCircle) {                    
			            drawingCircle = new kakao.maps.Circle({ 
			                strokeWeight: 1, // 선의 두께입니다
			                strokeColor: '#00a0e9', // 선의 색깔입니다
			                strokeOpacity: 0.1, // 선의 불투명도입니다 0에서 1 사이값이며 0에 가까울수록 투명합니다
			                strokeStyle: 'solid', // 선의 스타일입니다
			                fillColor: '#00a0e9', // 채우기 색깔입니다
			                fillOpacity: 0.2 // 채우기 불투명도입니다 
			            });     
			        }
			        
			        // 그려지고 있는 원의 반경 정보를 표시할 커스텀오버레이를 생성합니다
			        if (!drawingOverlay) {
			            drawingOverlay = new kakao.maps.CustomOverlay({
			                xAnchor: 0,
			                yAnchor: 0,
			                zIndex: 1
			            });              
			        }
			    }
			    });

			// 지도에 마우스무브 이벤트를 등록합니다
			// 원을 그리고있는 상태에서 마우스무브 이벤트가 발생하면 그려질 원의 위치와 반경정보를 동적으로 보여주도록 합니다
			kakao.maps.event.addListener(map2, 'mousemove', function (mouseEvent) {
			        
			    // 마우스무브 이벤트가 발생했을 때 원을 그리고있는 상태이면
			    if (drawingFlag) {

			        // 마우스 커서의 현재 위치를 얻어옵니다 
			        var mousePosition = mouseEvent.latLng; 
			        
			        // 그려지고 있는 선을 표시할 좌표 배열입니다. 클릭한 중심좌표와 마우스커서의 위치로 설정합니다
			        var linePath = [centerPosition, mousePosition];     
			        
			        // 그려지고 있는 선을 표시할 선 객체에 좌표 배열을 설정합니다
			        drawingLine.setPath(linePath);
			        
			        // 원의 반지름을 선 객체를 이용해서 얻어옵니다 
			        var length = drawingLine.getLength();
			        
			        if(length > 0) {
			            
			            // 그려지고 있는 원의 중심좌표와 반지름입니다
			            var circleOptions = { 
			                center : centerPosition, 
			            radius: length,                 
			            };
			            
			            // 그려지고 있는 원의 옵션을 설정합니다
			            drawingCircle.setOptions(circleOptions); 
			                
			            // 반경 정보를 표시할 커스텀오버레이의 내용입니다
			            var radius = Math.round(drawingCircle.getRadius()),   
			            content = '<div class="info">반경 <span class="number">' + radius + '</span>m</div>';
			            
			            // 반경 정보를 표시할 커스텀 오버레이의 좌표를 마우스커서 위치로 설정합니다
			            drawingOverlay.setPosition(mousePosition);
			            
			            // 반경 정보를 표시할 커스텀 오버레이의 표시할 내용을 설정합니다
			            drawingOverlay.setContent(content);
			            
			            // 그려지고 있는 원을 지도에 표시합니다
			            drawingCircle.setMap(map2); 
			            
			            // 그려지고 있는 선을 지도에 표시합니다
			            drawingLine.setMap(map2);  
			            
			            // 그려지고 있는 원의 반경정보 커스텀 오버레이를 지도에 표시합니다
			            drawingOverlay.setMap(map2);
			            
			        } else { 
			            
			            drawingCircle.setMap(null);
			            drawingLine.setMap(null);    
			            drawingOverlay.setMap(null);
			            
			        }
			    }     
			});     

			// 지도에 마우스 오른쪽 클릭이벤트를 등록합니다
			// 원을 그리고있는 상태에서 마우스 오른쪽 클릭 이벤트가 발생하면
			// 마우스 오른쪽 클릭한 위치를 기준으로 원과 원의 반경정보를 표시하는 선과 커스텀 오버레이를 표시하고 그리기를 종료합니다
			kakao.maps.event.addListener(map2, 'rightclick', function (mouseEvent) {

			    if (drawingFlag) {

			        // 마우스로 오른쪽 클릭한 위치입니다 
			        var rClickPosition = mouseEvent.latLng; 

			        // 원의 반경을 표시할 선 객체를 생성합니다
			        var polyline = new kakao.maps.Polyline({
			            path: [centerPosition, rClickPosition], // 선을 구성하는 좌표 배열입니다. 원의 중심좌표와 클릭한 위치로 설정합니다
			            strokeWeight: 3, // 선의 두께 입니다
			            strokeColor: '#00a0e9', // 선의 색깔입니다
			            strokeOpacity: 1, // 선의 불투명도입니다 0에서 1 사이값이며 0에 가까울수록 투명합니다
			            strokeStyle: 'solid' // 선의 스타일입니다
			        });
			        
			        // 원 객체를 생성합니다
			        var circle = new kakao.maps.Circle({ 
			            center : centerPosition, // 원의 중심좌표입니다
			            radius: polyline.getLength(), // 원의 반지름입니다 m 단위 이며 선 객체를 이용해서 얻어옵니다
			            strokeWeight: 1, // 선의 두께입니다
			            strokeColor: '#00a0e9', // 선의 색깔입니다
			            strokeOpacity: 0.1, // 선의 불투명도입니다 0에서 1 사이값이며 0에 가까울수록 투명합니다
			            strokeStyle: 'solid', // 선의 스타일입니다
			            fillColor: '#00a0e9', // 채우기 색깔입니다
			            fillOpacity: 0.2  // 채우기 불투명도입니다 
			        });
			        
			        var radius = Math.round(circle.getRadius()), // 원의 반경 정보를 얻어옵니다
			            content = getTimeHTML(radius, places); // 커스텀 오버레이에 표시할 반경 정보입니다

			        // 반경정보를 표시할 커스텀 오버레이를 생성합니다
			        var radiusOverlay = new kakao.maps.CustomOverlay({
			            content: content, // 표시할 내용입니다
			            position: rClickPosition, // 표시할 위치입니다. 클릭한 위치로 설정합니다
			            xAnchor: 0,
			            yAnchor: 0,
			            zIndex: 1 
			        });  

			        // 원을 지도에 표시합니다
			        circle.setMap(map2); 
			        
			        // 선을 지도에 표시합니다
			        polyline.setMap(map2);
			        
			        // 반경 정보 커스텀 오버레이를 지도에 표시합니다
			        radiusOverlay.setMap(map2);
			        
			        // 배열에 담을 객체입니다. 원, 선, 커스텀오버레이 객체를 가지고 있습니다
			        var radiusObj = {
			            'polyline' : polyline,
			            'circle' : circle,
			            'overlay' : radiusOverlay
			        };
			        
			        // 배열에 추가합니다
			        // 이 배열을 이용해서 "모두 지우기" 버튼을 클릭했을 때 지도에 그려진 원, 선, 커스텀오버레이들을 지웁니다
			        circles.push(radiusObj);   
			    
			        // 그리기 상태를 그리고 있지 않는 상태로 바꿉니다
			        drawingFlag = false;
			        
			        // 중심 좌표를 초기화 합니다  
			        centerPosition = null;
			        
			        // 그려지고 있는 원, 선, 커스텀오버레이를 지도에서 제거합니다
			        drawingCircle.setMap(null);
			        drawingLine.setMap(null);   
			        drawingOverlay.setMap(null);
			    }
			});    
			    
			// 지도에 표시되어 있는 모든 원과 반경정보를 표시하는 선, 커스텀 오버레이를 지도에서 제거합니다
			function removeCircles() {         
			    for (var i = 0; i < circles.length; i++) {
			        circles[i].circle.setMap(null);    
			        circles[i].polyline.setMap(null);
			        circles[i].overlay.setMap(null);
			    }         
			    circles = [];
			}

			// 마우스 우클릭 하여 원 그리기가 종료됐을 때 호출하여 
			// 그려진 원의 반경 정보와 반경에 대한 도보, 자전거 시간을 계산하여
			// HTML Content를 만들어 리턴하는 함수입니다
			function getTimeHTML(distance, markerloc) {
				for(i = 0 ; i < markerloc.length ; i++){
					var dLat = (Math.PI / 180) * (markerloc[i]['Ma'] - lat);
				    var dLon = (Math.PI / 180) * (markerloc[i]['La'] - lon);
				
				    var a = Math.sin(dLat/2)* Math.sin(dLat/2)+ Math.cos((Math.PI/180)*(lat))* Math.cos((Math.PI/180)*(markerloc[i]['Ma']))* Math.sin(dLon/2)* Math.sin(dLon/2);
				    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
				    var d = 6400 * c * 1000;
				    d = d / 1000;
				    d = d.toFixed(2);
		            arr2.push([i,markerloc[i], d]);
		            arr2.sort((a,b) => a[2] - b[2]);
				}
				
				
			    // 도보의 시속은 평균 4km/h 이고 도보의 분속은 67m/min입니다
			    var walkkTime = distance / 67 | 0;
			    var walkHour = '', walkMin = '';
				
			    for(i = 0 ; i < arr2.length ; i++){
			    	if(arr2[i][2] < distance/1000){
			    		countInDiameter.push(arr2[i][2]);
			    	}
			    }
			    
			    var lenCountInDiameter = countInDiameter.length;
			    // 계산한 도보 시간이 60분 보다 크면 시간으로 표시합니다
			    if (walkkTime > 60) {
			        walkHour = '<span class="number">' + Math.floor(walkkTime / 60) + '</span>시간 '
			    }
			    walkMin = '<span class="number">' + walkkTime % 60 + '</span>분'
				
			    // 자전거의 평균 시속은 16km/h 이고 이것을 기준으로 자전거의 분속은 267m/min입니다
			    var bycicleTime = distance / 227 | 0;
			    var bycicleHour = '', bycicleMin = '';

			    // 계산한 자전거 시간이 60분 보다 크면 시간으로 표출합니다
			    if (bycicleTime > 60) {
			        bycicleHour = '<span class="number">' + Math.floor(bycicleTime / 60) + '</span>시간 '
			    }
			    bycicleMin = '<span class="number">' + bycicleTime % 60 + '</span>분'

			    // 거리와 도보 시간, 자전거 시간을 가지고 HTML Content를 만들어 리턴합니다
			    var content = '<ul class="info">';
			    content += '    <li>';
			    content += '        <span class="label">총거리</span><span class="number">' + distance + '</span>m';
			    content += '    </li>';
			    content += '    <li>';
			    content += '        <span class="label">도보</span>' + walkHour + walkMin;
			    content += '    </li>';
			    content += '    <li>';
			    content += '        <span class="label">자전거</span>' + bycicleHour + bycicleMin;
			    content += '    </li>';
			    content += '    <li>';
			    content += '        <span class="label">병원 수</span>' + lenCountInDiameter;
			    content += '    </li>';
			    content += '</ul>'

			    return content;
			}
			
			 var cnt = new Array();
			     cnt[0] = new Array('전체');
			     cnt[1] = new Array('전체','강남구','강동구','강북구','강서구','관악구','광진구','구로구','금천구','노원구','도봉구','동대문구','동작구','마포구','서대문구','서초구','성동구','성북구','송파구','양천구','영등포구','용산구','은평구','종로구','중구','중랑구');
			     cnt[2] = new Array('전체','강서구','금정구','남구','동구','동래구','부산진구','북구','사상구','사하구','서구','수영구','연제구','영도구','중구','해운대구','기장군');
			     cnt[3] = new Array('전체','남구','달서구','동구','북구','서구','수성구','중구','달성군');
			     cnt[4] = new Array('전체','계양구','남구','남동구','동구','부평구','서구','연수구','중구','강화군','옹진군');
			     cnt[5] = new Array('전체','광산구','남구','동구','북구','서구');
			     cnt[6] = new Array('전체','대덕구','동구','서구','유성구','중구');
			     cnt[7] = new Array('전체','남구','동구','북구','중구','울주군');
			     cnt[8] = new Array('전체','고양시','과천시','광명시','구리시','군포시','남양주시','동두천시','부천시','성남시','수원시','시흥시','안산시','안양시','오산시','의왕시','의정부시','평택시','하남시','가평군','광주시','김포시','안성시','양주군','양평군','여주군','연천군','용인시','이천군','파주시','포천시','화성시');
			     cnt[9] = new Array('전체','강릉시','동해시','삼척시','속초시','원주시','춘천시','태백시','고성군','양구군','양양군','영월군','인제군','정선군','철원군','평창군','홍천군','화천군','황성군');
			     cnt[10] = new Array('전체','제천시','청주시','충주시','괴산군','단양군','보은군','영동군','옥천군','음성군','진천군','청원군');
			     cnt[11] = new Array('전체','공주시','보령시','서산시','아산시','천안시','금산군','논산군','당진군','부여군','서천군','연기군','예산군','청양군','태안군','홍성군');
			     cnt[12] = new Array('전체','군산시','김제시','남원시','익산시','전주시','정읍시','고창군','무주군','부안군','순창군','완주군','임실군','장수군','진안군');
			     cnt[13] = new Array('전체','광양시','나주시','목포시','순천시','여수시','여천시','강진군','고흥군','곡성군','구례군','담양군','무안군','보성군','신안군','여천군','영광군','영암군','완도군','장성군','장흥군','진도군','함평군','해남군','화순군');
			     cnt[14] = new Array('전체','경산시','경주시','구미시','김천시','문겅시','상주시','안동시','영주시','영천시','포항시','고령군','군위군','봉화군','성주군','영덕군','영양군','예천군','울릉군','울진군','의성군','청도군','청송군','칠곡군');
			     cnt[15] = new Array('전체','거제시','김해시','마산시','밀양시','사천시','울산시','진주시','진해시','창원시','통영시','거창군','고성군','남해군','산청군','양산시','의령군','창녕군','하동군','함안군','함양군','합천군');
			     cnt[16] = new Array('전체','서귀포시','제주시','남제주군','북제주군');
		     
			  function change(index) {
		     	var sel = document.querySelector("#county1");
		       /* 옵션메뉴삭제 */
		       for (i=sel.length-1; i>=0; i--){
		         sel.options[i] = null
		         }
		       /* 옵션박스추가 */
		       for (i=0; i < cnt[index].length;i++){                     
		                         sel.options[i] = new Option(cnt[index][i], cnt[index][i]);
		         }         
		     }
			
			
		</script>
	</body>
</html>